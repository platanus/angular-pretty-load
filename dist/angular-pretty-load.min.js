!function(){"use strict";angular.module("platanus.prettyLoad",[])}();
!function(){"use strict";function e(){return{restrict:"A",link:function(e,d,l){var c={referenceWidth:l.prettyLoadWidth,referenceHeight:l.prettyLoadHeight,referenceColor:l.prettyLoadColor,shouldSetImageWidth:0==d[0].width,shouldSetImageHeight:0==d[0].height},h=d,s=t(h),u=i(s,c.referenceColor);o(h,c),a(u,h),r(s,h),n(e,h,u,c)}}}function t(e){var t="<div class='pretty-load-wrapper'></div>";e.wrap(t);var i=e.parent();return i.css({position:"relative"}),i}function i(e,t){var i='<div class="pretty-load-overlay"></div>',r=angular.element(i);return e.append(r),r.css({position:"absolute"}),t&&r.css({backgroundColor:t}),r}function r(e,t){setTimeout(function(){e.addClass(c),l(t,function(){e.removeClass(c),e.addClass(h)})},0)}function n(e,t,i,r){var n=function(){o(t,r),a(i,t)};window.addEventListener("resize",n),e.$on("$destroy",function(){window.removeEventListener("resize",n)})}function o(e,t){var i=e[0];if(t.shouldSetImageWidth&&t.shouldSetImageHeight)i.width=t.referenceWidth,i.height=t.referenceHeight;else if(t.shouldSetImageWidth||t.shouldSetImageHeight){var r=t.referenceWidth/t.referenceHeight;t.shouldSetImageWidth&&(i.width=i.clientHeight*r),t.shouldSetImageHeight&&(i.height=i.clientWidth/r)}}function a(e,t){e.css({top:"0px",left:"0px",width:t[0].clientWidth+"px",height:t[0].clientHeight+"px"})}function d(e){return e.complete?0!==e.naturalWidth:!1}function l(e,t){var i=setInterval(function(){d(e[0])&&(clearInterval(i),t.call())},200)}var c="pretty-load-loading",h="pretty-load-completed";angular.module("platanus.prettyLoad").directive("prettyLoad",e)}();